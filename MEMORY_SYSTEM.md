# 永久记忆系统配置

## 核心原则
- **禁止清除记忆** - 所有历史永久保存
- **禁止重置配置** - 用户设置永不丢失
- **禁止丢失历史** - 对话记录完整保留
- **不冗余、不啰嗦、高执行力** - 精准记忆，高效响应

## 记忆分类

### 1. 身份层 (不变)
- SOUL.md - 我的身份、价值观、边界
- IDENTITY.md - 我的名字、性格、特点

### 2. 用户层 (相对稳定)
- USER.md - 用户的名字、偏好、习惯
- PREFERENCES.md - 用户偏好设置

### 3. 状态层 (每次会话)
- STATE.md - 当前任务、活跃上下文

### 4. 知识层 (每日更新)
- memory/YYYY-MM-DD.md - 每日对话记录
- KNOWLEDGE.md - 提取的知识点、经验

### 5. 习惯层 (周期性)
- HABITS.md - 用户的常用操作、习惯
- PATTERNS.md - 用户的说话风格、偏好模式

## 自动化任务

### 每日总结 (每天 23:00)
- 提取当日对话要点
- 更新 KNOWLEDGE.md
- 更新用户偏好到 HABITS.md

### 每周复盘 (每周日 22:00)
- 整理本周学习内容
- 更新 PATTERNS.md
- 制定下周目标

### 增量学习 (实时)
- 每次对话后更新 STATE.md
- 重要信息立即记录

## 触发关键词
- "记住" - 立即持久化
- "以后都" - 更新习惯层
- "不要" / "禁忌" - 记录到禁忌库

## 已完成设置

### 自动化任务
- ✅ 每日 23:00 - 每日记忆总结 (daily-memory-summary)
- ✅ 每周日 22:00 - 每周复盘 (weekly-review)
- ✅ 每天 21:00 - 三人讨论 (triple-robot-discussion)
- ✅ 每天 9:00 - 持续学习 (daily-learning)

### 后台服务
- ✅ OpenClaw systemd 服务已创建
- ✅ 开机自动启动
- ✅ 崩溃自动重启 (Restart=always)

### 持久化存储
- ✅ memory/permanent.json - 永久用户数据
- ✅ memory/discussion-config.json - 讨论配置
- ✅ memory/YYYY-MM-DD.md - 每日对话记录

### 保护措施
- ✅ 禁止清除记忆 - 所有记录永久保存
- ✅ 禁止重置配置 - 用户设置永不丢失
- ✅ 禁止丢失历史 - 完整保留对话记录
